# 클라이언트에서 서버 데이터 전송 방식

> 방법이 크게 두 가지다.

## 쿼리 파라미터를 통한 데이터 전송

- GET
- 주로 정렬 필터 (검색어)
- GET이 메세지 바디에 정보를 싣어서 보낼 수 있긴한데 지원하지 않는 서버도 있어서 추천하지 않는다.

## 메세지 바디를 통한 데이터 전송

- POST, PUT, PATCH
- 회원 가입, 상품 주문, 리소스 등록, 리소스 변경

# 회원 관리 시스템 HTTP API 설계 예시

## 수정 기능

- 보통 수정 API는 PATCH를 쓰는게 보통이다.
- 이것도 저것도 애매하면 POST를 수정으로 쓰는게 편하다.

# 파일 관리 시스템 HTTP API 설계 예시

## 파일 등록

- 파일 등록에는 PUT이 좋다. 덮어 씌워야 하기 때문에
- PUT은 클라이언트가 리소스 URI를 알고 있어야 한다. 본인이 알고 본인이 지정한다.
- 하지만 POST는 그냥 /files 라는 형식으로 URI을 쓰고 서버가 알아서 경로를 만든다.
- POST는 클라이언트가 서버에게 그냥 요청하는 것이다 (응애 해줘)
- PUT은 클라이언트가 등록된 URI를 알아야해서 클라이언트가 관리하는 방식이 된다. (Store)

# HTML Form 데이터 전송

- HTML form은 GET, POST만 지원한다.
- 그래서 동사로 된 리소스 경로 (컨트롤 URI)를 사용한다. (/new, /edit, /delete)
- 근데 컨트롤 URI를 너무 난사하면 안된다. 최대한 리소스만으로 표현하고, 그게 안될 때 컨트롤 URI를 사용하자.

# 참고하면 좋은 URI 설계 개념

## 문서

- 단일 개념 (파일 하나)
- /members/100, /files/star.jpg

## 컬렉션

- 서버가 관리하는 리소스 디렉토리
- 서버가 리소스의 URI를 생성하고 관리
- /members

## 스토어

- 클라이언트가 관리하는 자원 저장소
- 클라이언트가 리소스의 URI를 알고 관리
- /files

## 컨트롤러, 컨트롤 URI

- 문서, 컬렉션, 스토어로 해결하기 어려운 추가 프로세스 실행
- 동사를 직접 사용
- members/{id}/delete

